<%-include('partial/adminheader'); -%>
<div class="container m-5">
    <div class="headline">
      <h4 class="text-center ">Donators information</h4>
</div>
<div class="container m-5">
  <%dns.forEach(function(ed,i){%>
    <div class="card m-5 bg-light shadow-lg" style="max-width: 1040px;" id="card">
      <div class="row g-0">
        
        <div class="col-md-12">
          <div class="card-body">
            <p class="card-title">Phone: <span class="text-muted"><%=ed.phone%></span></p>
            <p class="card-title">Transaction id: <span class="text-muted"><%=ed.transaction%></span></p>
            <p class="card-title">Payment method: <span class="text-muted"><%=ed.method%></span></p>

            
            <form action="/check-payment/<%=ed.id%>" method="post">
              <button type="submit" class="btn btn-success btn-sm text-uppercase">Check <i class="bi bi-check-lg"></i></button>
            </form>

          </div>
        </div>
       
      </div>

    </div>
  <%});%>
    
    <div class=" mx-auto text-center">
      <a class=" btn btn-outline-dark m-5 w-25 show-more">Show more</a>
   </div>
  </div>



<!-- Bootstrap Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>

  <script>
     

    $(document).ready(function(){   
    //show more option
     var size_item = $('.card').length;
      var v=3;
        // hide all divs with this class.
        $('.card').hide(); 
        //class:lt(index)-> selects elements with an index number less than a specified number.(lt - less than)
        //suppose,let show-more-object is list . so first two elements will show up which are in 0 and 2 index < v=3.
        $('.card:lt('+v+')').show();
        //when btn will be  clicked ,this function will work.
        $('.show-more').click(function () {
        if(v+3<=size_item){
          v=v+3; // will show next three index elements
        }else{
          v=size_item; //v+3>size_item
        }
        $('.card:lt('+v+')').show();
         // hide show more button if all items are visible
        if($(".card:visible").length >= size_item ){ $(".show-more").hide(); }
       });
    });

             
   
    
   
  
   </script>

</body>
</html>